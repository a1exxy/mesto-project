(()=>{"use strict";function e(e){e.classList.add("popup_opened")}function t(e){e.classList.remove("popup_opened")}var n=document.querySelector(".newplace-form"),o=document.querySelector(".profile__add-button"),r=document.querySelector(".popup-newplace"),c=document.querySelector(".newPlaceName"),l=document.querySelector(".newPlaceURL"),a=document.querySelector(".elements"),u=document.querySelector(".element-template").content,i=document.querySelector(".popup-img"),p=i.querySelector(".popup__caption"),s=i.querySelector(".popup__view");function d(t,n){var o=u.querySelector(".element").cloneNode(!0);return o.querySelector(".element__img").src=n,o.querySelector(".element__img").alt="Изображение "+t,o.querySelector(".element__title").textContent=t,o.querySelector(".element__link").addEventListener("click",(function(e){e.target.classList.toggle("element__link_active")})),o.querySelector(".element__trash").addEventListener("click",(function(e){e.target.closest(".element").remove()})),o.querySelector(".element__show").addEventListener("click",(function(t){var n=t.target.closest(".element").querySelector(".element__title").textContent;p.textContent=n,s.alt="Изображение "+n,s.src=t.target.src,e(i)})),o}var m=document.querySelector(".popup-editprofile"),v=document.querySelector(".profile__edit-button"),_=document.querySelector(".profile-editor"),f=document.querySelector(".editProfileName"),y=document.querySelector(".editProfileAboutMe"),q=document.querySelector(".profile__name"),S=document.querySelector(".profile__about-me");function g(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n)):(t.disabled=!0,t.classList.add(n))}const k=function(e,t,n,o,r,c){var l=document.querySelector(e),a=l.querySelector(n),u=Array.from(l.querySelectorAll(t));u.forEach((function(e){e.addEventListener("input",(function(){!function(e,t,n,o){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t,n,o){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n),r.classList.remove(o),r.textContent=""}(e,t,n,o):function(e,t,n,o,r){var c=e.querySelector(".".concat(t.id,"-error"));t.classList.add(o),c.classList.add(r),c.textContent=n}(e,t,t.validationMessage,n,o)}(l,e,r,c)}))})),g(u,a,o),l.addEventListener("input",(function(){g(u,a,o)}))};document.querySelectorAll(".popup__close-button").forEach((function(e){e.addEventListener("click",(function(e){t(e.target.closest(".popup"))}))})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",(function(e){t(e.target)})),e.addEventListener("keydown",(function(e){"Escape"===e.code&&t(e.target.closest(".popup"))}))})),o.addEventListener("click",(function(){e(r)})),n.addEventListener("submit",(function(e){e.preventDefault(),c.value.length>0&&l.value.length>0&&a.prepend(d(c.value,l.value)),e.target.reset(),t(r)})),v.addEventListener("click",(function(){f.value=q.textContent,y.value=S.textContent,e(m)})),_.addEventListener("submit",(function(e){e.preventDefault(),f.value.length>0&&y.value.length>0&&(q.textContent=f.value,S.textContent=y.value),t(m)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){a.append(d(e.name,e.link))})),k(".profile-editor",".popup__text-input",".popup__save-button","popup__save-button_deactivate","popup__text-input_invalid","popup__text-input-error_active"),k(".newplace-form",".popup__text-input",".popup__save-button","popup__save-button_deactivate","popup__text-input_invalid","popup__text-input-error_active"),console.log("API_URL: ".concat("https://nomoreparties.co/v1/plus-cohort-22")),console.log("API_TOKEN: ".concat("e946af28-6776-4621-8721-b1a2f230a011".slice(0,5),"...").concat("e946af28-6776-4621-8721-b1a2f230a011".slice(-5)))})();